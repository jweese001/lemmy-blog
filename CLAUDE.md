# CLAUDE.md - Lemmy's Mic Blog

This file guides Claude Code when working on the Lemmy's Lab blog project.

## Project Overview

**Lemmy's Mic** is an AI-generated blog built with Hugo, deployed on Netlify, with hero images created via FlowBoard.

- **Site**: Hugo static site
- **Theme**: Custom "w33s3" (dark, minimalist)
- **Repo**: `github.com/jweese001/lemmy-blog` (private)
- **Hosting**: Netlify (auto-deploys on push)

## Directory Structure

```
~/lemmy-blog/
├── hugo.toml              # Site configuration
├── netlify.toml           # Netlify build config
├── content/
│   ├── posts/             # Blog posts go here
│   └── about.md           # About page
├── static/images/         # Hero images (generated by FlowBoard)
├── themes/w33s3/
│   ├── assets/css/style.css   # Main stylesheet - EDIT THIS FOR STYLING
│   └── layouts/               # Hugo templates
├── scripts/               # Automation scripts (to be created)
└── workflows/             # FlowBoard JSON files (to be created)
```

## Quick Commands

```bash
# Start dev server
hugo server --bind 0.0.0.0 -p 1313

# Build for production
hugo --minify

# Deploy (Netlify auto-deploys)
git add -A && git commit -m "message" && git push
```

## Creating a New Post

### 1. Create markdown file

```bash
# File: content/posts/my-post-slug.md
```

### 2. Frontmatter format

```yaml
---
title: "Post Title Here"
date: 2026-02-05T12:00:00-05:00
draft: false
tags: ["indie-games", "reviews"]
image: "/images/hero-my-post-slug.png"
description: "Brief description for SEO."
---
```

### 3. Content guidelines

- Use `##` for main sections (H2)
- Use `###` for subsections (H3)
- Keep paragraphs concise
- Include a conclusion
- End with FlowBoard attribution:

```markdown
---
*Generated by Lemmy using [FlowBoard](https://jweese001.github.io/flow-board/)*
```

## Topics / Tags

Use these established tags for consistency:

| Tag | Description |
|-----|-------------|
| `indie-games` | Game reviews, studio spotlights, game jams |
| `e-bikes` | Electric bikes, urban mobility, reviews |
| `punk-music` | Albums, history, scene reports |
| `kava-bars` | Culture, locations, experiences |
| `ai-art` | Tools, techniques, FlowBoard |
| `tech` | Development, tools, experiments |
| `meta` | About the blog itself |

## Styling

The theme CSS is at: `themes/w33s3/assets/css/style.css`

### Design Principles
- **Dark theme**: Background `#0a0a0b`, text `#efefef`
- **Minimalist**: No clutter, generous whitespace
- **Professional**: Clean typography (Inter font)
- **w33s3 aesthetic**: Match [w33s3.com](https://w33s3.com) style

### CSS Variables (in style.css)

```css
--bg-primary: #0a0a0b;
--bg-secondary: #111113;
--text-primary: #efefef;
--text-secondary: #a0a0a5;
--accent-primary: #3b82f6;    /* Blue */
--accent-secondary: #10b981;  /* Green */
```

## FlowBoard Integration

FlowBoard location: `~/claude-code-telegram/claude-code-telegram/flow-board/`

### Start FlowBoard
```bash
cd ~/claude-code-telegram/claude-code-telegram/flow-board/client
npm run dev
# Runs at http://localhost:5173/flow-board/
```

### Workflow JSON for Hero Images

Create workflow files in `~/lemmy-blog/workflows/`:

```json
{
  "version": "1.0",
  "project": {
    "id": "blog-{slug}",
    "name": "Hero: {Title}",
    "nodes": [
      {
        "id": "style-1",
        "type": "style",
        "position": { "x": 50, "y": 100 },
        "data": {
          "label": "Style",
          "name": "w33s3 Dark",
          "description": "Dark moody atmosphere, high contrast, neon accents, cinematic lighting"
        }
      },
      {
        "id": "action-1",
        "type": "action",
        "position": { "x": 50, "y": 300 },
        "data": {
          "label": "Action",
          "content": "{Scene description for the post}"
        }
      },
      {
        "id": "parameters-1",
        "type": "parameters",
        "position": { "x": 350, "y": 100 },
        "data": {
          "model": "gemini-flash",
          "aspectRatio": "16:9"
        }
      },
      {
        "id": "output-1",
        "type": "output",
        "position": { "x": 350, "y": 300 },
        "data": { "status": "idle" }
      }
    ],
    "edges": [
      { "id": "e1", "source": "style-1", "target": "output-1" },
      { "id": "e2", "source": "action-1", "target": "output-1" },
      { "id": "e3", "source": "parameters-1", "target": "output-1" }
    ]
  }
}
```

### Available Models

- `gemini-flash` - Fast, good quality (recommended)
- `gemini-pro` - Better quality, slower
- `flux-schnell` - FAL credits, fast
- `flux-dev` - FAL credits, best quality
- `mock` - Testing only (random image)

## Git Workflow

```bash
# After making changes
git add content/posts/new-post.md static/images/hero-new-post.png
git commit -m "Add post: Title of Post"
git push

# Netlify auto-deploys within ~30 seconds
```

## Commit Message Format

```
Add post: {Title}
Update styling: {what changed}
Fix: {what was broken}
Refactor: {what was improved}
```

## DO NOT

- Don't commit drafts (`draft: true`) - test locally first
- Don't commit massive images - optimize to <500KB
- Don't break the build - run `hugo` locally before pushing
- Don't edit theme files outside `themes/w33s3/` - that's all we need

## Current Status

### Done
- [x] Hugo site structure
- [x] w33s3 theme with dark design system
- [x] Netlify deployment (auto-deploys on push)
- [x] GitHub integration (private repo)
- [x] Posts displaying correctly on homepage
- [x] Two posts published (Welcome + Indie Games Feb 2026)
- [x] 6pm cron configured for daily blog posting
- [x] STYLE-GUIDE.md saved with project

### Next Task: FlowBoard Integration
- [ ] Create workflow JSON generator script
- [ ] Playwright automation for FlowBoard UI
- [ ] Image download and save to static/images/
- [ ] Error handling and fallback to gradient

### Future TODO
- [ ] Full automation pipeline script
- [ ] Social posting (Bluesky/Mastodon)

## Related Files

- **Planning Doc**: `~/lemmy-blog/PLANNING.md`
- **FlowBoard Types**: `~/claude-code-telegram/claude-code-telegram/flow-board/client/src/types/nodes.ts`
- **Global Claude Config**: `~/.claude/CLAUDE.md`

---

*This is Lemmy's blog. That's the way I like it, baby...*
