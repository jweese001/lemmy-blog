# Lemmy's Mic - Project Planning Document

## Project Overview

**Lemmy's Mic** is an autonomous AI-powered blog that generates and publishes content with minimal human intervention. The system combines research, writing, AI image generation, and automated deployment into a seamless pipeline.

**URL**: Deployed on Netlify (private GitHub repo)
**Author**: Lemmy (AI persona) / Jeff Weese (human)
**Created**: 2026-02-05

---

## Vision

> "An AI that researches, writes, illustrates, and publishes - while the human sleeps."

The blog serves dual purposes:
1. **Content Creation**: Genuine articles on niche topics (indie games, e-bikes, punk music, kava culture)
2. **Marketing**: Showcases FlowBoard's capabilities by using it for every hero image

---

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         LEMMY'S MIC PIPELINE                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  TOPIC   â”‚â”€â”€â”€â”€â–¶â”‚ RESEARCH â”‚â”€â”€â”€â”€â–¶â”‚  WRITE   â”‚â”€â”€â”€â”€â–¶â”‚  IMAGE   â”‚
  â”‚ SELECTOR â”‚     â”‚  (Web)   â”‚     â”‚   (MD)   â”‚     â”‚(FlowBoard)â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                            â”‚
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
  â”‚  SOCIAL  â”‚â—€â”€â”€â”€â”€â”‚  DEPLOY  â”‚â—€â”€â”€â”€â”€â”‚   GIT    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚ (APIs)   â”‚     â”‚(Netlify) â”‚     â”‚  (Push)  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Components

| Component | Technology | Status |
|-----------|------------|--------|
| Static Site | Hugo | âœ… Complete |
| Theme | Custom "w33s3" | âš ï¸ Needs styling |
| Hosting | Netlify | âœ… Deployed |
| Version Control | GitHub (private) | âœ… Connected |
| Image Generation | FlowBoard | âœ… Available |
| FlowBoard Integration | Python/Playwright | âŒ Not started |
| Automation | Cron + Script | âŒ Not started |
| Social Posting | Bluesky/Mastodon | âŒ Not started |

---

## Content Strategy

### Topics

| Topic | Tag | Description |
|-------|-----|-------------|
| Indie Games | `indie-games` | Hidden gems, emerging studios, game jams |
| E-Bikes | `e-bikes` | Electric mobility, urban cycling, reviews |
| Punk Music | `punk-music` | History, modern scene, album reviews |
| Kava Bars | `kava-bars` | Culture, locations, social movement |
| Tech | `tech` | Development, tools, experiments |

### Post Structure

```markdown
---
title: "Post Title"
date: 2026-02-05T12:00:00-05:00
draft: false
tags: ["topic-tag", "secondary-tag"]
image: "/images/hero-slug.png"
description: "Brief description for SEO and previews."
---

## Introduction
Hook the reader, establish relevance.

## Main Content
Research-backed insights, organized with headers.

## Conclusion
Summary, call to action, or reflection.

---
*Generated by Lemmy using [FlowBoard](https://jweese001.github.io/flow-board/)*
```

---

## FlowBoard Integration

### Workflow JSON Structure

Each blog post gets a programmatically-generated FlowBoard workflow:

```json
{
  "version": "1.0",
  "project": {
    "id": "blog-{slug}-{timestamp}",
    "name": "Hero: {Post Title}",
    "nodes": [
      {
        "id": "style-1",
        "type": "style",
        "position": { "x": 50, "y": 100 },
        "data": {
          "label": "Style",
          "name": "w33s3 Dark",
          "description": "Dark, moody, high contrast, neon accents, cinematic lighting, professional photography"
        }
      },
      {
        "id": "action-1",
        "type": "action",
        "position": { "x": 50, "y": 300 },
        "data": {
          "label": "Action",
          "content": "{Scene description based on post topic}"
        }
      },
      {
        "id": "parameters-1",
        "type": "parameters",
        "position": { "x": 350, "y": 100 },
        "data": {
          "label": "Parameters",
          "model": "gemini-flash",
          "aspectRatio": "16:9",
          "resolution": "2K"
        }
      },
      {
        "id": "output-1",
        "type": "output",
        "position": { "x": 350, "y": 300 },
        "data": {
          "label": "Output",
          "promptPreview": "",
          "status": "idle"
        }
      }
    ],
    "edges": [
      { "id": "e-style-output", "source": "style-1", "target": "output-1" },
      { "id": "e-action-output", "source": "action-1", "target": "output-1" },
      { "id": "e-params-output", "source": "parameters-1", "target": "output-1" }
    ],
    "createdAt": 1234567890,
    "updatedAt": 1234567890
  }
}
```

### Available Models

| Model | Provider | Speed | Quality | Cost |
|-------|----------|-------|---------|------|
| `gemini-flash` | Google | Fast | Good | Free tier |
| `gemini-pro` | Google | Medium | Better | Free tier |
| `flux-schnell` | FAL | Fast | Good | FAL credits |
| `flux-dev` | FAL | Slower | Best | FAL credits |
| `mock` | Local | Instant | Random | Free (testing) |

### Integration Approaches

**Option A: Playwright Automation**
- Load workflow JSON into running FlowBoard app
- Click generate button
- Wait for completion
- Download image
- Pros: Uses full app, human can intervene
- Cons: Requires browser, fragile

**Option B: Direct API (if available)**
- POST workflow to FlowBoard backend
- Receive generated image
- Pros: Clean, scriptable
- Cons: May not exist yet

**Option C: Headless Generation**
- Extract prompt assembly logic from FlowBoard
- Call image APIs directly (Gemini, FAL)
- Pros: No browser needed
- Cons: Duplicates FlowBoard logic

**Recommended**: Option A initially (Playwright), with human review capability

---

## Automation Pipeline

### Trigger Options

| Trigger | Method | Use Case |
|---------|--------|----------|
| Cron | `0 9 * * *` | Daily post at 9 AM |
| Manual | Claude command | On-demand generation |
| Webhook | GitHub Actions | Event-driven |

### Pipeline Script Outline

```python
# /home/lemmy/lemmy-blog/scripts/generate_post.py

async def generate_post(topic: str):
    """Full pipeline: research â†’ write â†’ image â†’ deploy"""

    # 1. Research
    research = await web_search(topic)

    # 2. Write post
    content = await write_markdown(topic, research)
    slug = slugify(content.title)

    # 3. Save draft
    post_path = f"content/posts/{slug}.md"
    save_file(post_path, content.markdown)

    # 4. Generate hero image
    workflow = create_flowboard_workflow(topic, content.title)
    image_path = await generate_image(workflow)

    # 5. Update post frontmatter with image
    update_frontmatter(post_path, image=image_path)

    # 6. Git commit and push
    git_add(post_path, image_path)
    git_commit(f"Add post: {content.title}")
    git_push()

    # 7. Netlify auto-deploys

    # 8. Optional: Post to social
    await post_to_bluesky(content.title, content.excerpt, url)

    return url
```

---

## Social Integration

### Platforms

| Platform | API | Auth | Status |
|----------|-----|------|--------|
| Bluesky | AT Protocol | App password | âŒ Not started |
| Mastodon | REST API | OAuth | âŒ Not started |
| RSS | Built-in | None | âœ… Hugo generates |

### Bluesky Post Format

```
ðŸ“ New post: {Title}

{First 200 chars of excerpt}...

ðŸ”— {URL}

#IndieGames #AI #FlowBoard
```

---

## Development Phases

### Phase 1: Foundation (COMPLETE)
- [x] Hugo site setup
- [x] Custom w33s3 theme (basic)
- [x] GitHub repo (private)
- [x] Netlify deployment
- [x] First post created
- [x] Posts displaying on homepage (fixed future-date issue)
- [x] 6pm cron job configured for daily posting

### Phase 2: Styling (COMPLETE - basic)
- [x] Dark theme (w33s3 design system applied)
- [x] Typography (Instrument Serif, Sora, JetBrains Mono)
- [x] Mobile responsiveness (basic)
- [ ] Code syntax highlighting (optional)
- [ ] Image optimization (optional)

### Phase 3: FlowBoard Integration (COMPLETE - Manual Mode)
- [x] Workflow JSON generator script (`scripts/generate_workflow.py`)
- [x] Direct Gemini API script (`scripts/generate_hero.py`)
- [x] Full post creation script (`scripts/create_post.py`)
- [x] FLOWBOARD-GUIDE.md for Lemmy to understand the workflow
- [x] Virtual environment with dependencies (`.venv/`)
- [ ] Test with FlowBoard UI (load workflow, generate, save image)
- [ ] Playwright automation (optional - for full automation later)

### Phase 4: Automation
- [ ] Full pipeline script
- [ ] Cron job setup
- [ ] Logging and monitoring
- [ ] Failure notifications

### Phase 5: Social
- [ ] Bluesky API integration
- [ ] Mastodon API integration
- [ ] Auto-posting on deploy

### Phase 6: Refinement
- [ ] Content quality improvements
- [ ] SEO optimization
- [ ] Analytics integration
- [ ] Human review workflow

---

## File Structure

```
~/lemmy-blog/
â”œâ”€â”€ CLAUDE.md                    # AI instructions for this project
â”œâ”€â”€ PLANNING.md                  # This document
â”œâ”€â”€ hugo.toml                    # Hugo configuration
â”œâ”€â”€ netlify.toml                 # Netlify build settings
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ posts/                   # Blog posts (markdown)
â”‚   â”‚   â””â”€â”€ *.md
â”‚   â””â”€â”€ about.md                 # About page
â”œâ”€â”€ static/
â”‚   â””â”€â”€ images/                  # Hero images
â”‚       â””â”€â”€ hero-*.png
â”œâ”€â”€ themes/
â”‚   â””â”€â”€ w33s3/
â”‚       â”œâ”€â”€ assets/css/style.css # Main stylesheet
â”‚       â””â”€â”€ layouts/             # Hugo templates
â”œâ”€â”€ scripts/                     # Automation scripts
â”‚   â”œâ”€â”€ generate_post.py
â”‚   â”œâ”€â”€ flowboard_integration.py
â”‚   â””â”€â”€ social_posting.py
â””â”€â”€ workflows/                   # FlowBoard workflow JSONs
    â””â”€â”€ *.json
```

---

## Commands Reference

```bash
# Development
cd ~/lemmy-blog
hugo server --bind 0.0.0.0 -p 1313  # Dev server

# Build
hugo --minify                        # Production build

# Deploy (auto via git push)
git add -A && git commit -m "msg" && git push

# FlowBoard
cd ~/claude-code-telegram/claude-code-telegram/flow-board/client
npm run dev                          # Start at localhost:5173
```

---

## Success Metrics

| Metric | Target | Measurement |
|--------|--------|-------------|
| Posts per week | 3-5 | Git commits |
| Image generation success | >90% | Script logs |
| Deploy success | 100% | Netlify dashboard |
| Social engagement | Track | Platform analytics |

---

## Risks and Mitigations

| Risk | Impact | Mitigation |
|------|--------|------------|
| FlowBoard API changes | High | Pin version, monitor updates |
| Image generation fails | Medium | Fallback to stock/gradient |
| Netlify build fails | Medium | Local build test before push |
| Content quality issues | Medium | Human review queue |
| API rate limits | Low | Caching, backoff |

---

## Notes

- FlowBoard is Jeff's app - this project also serves as marketing/dogfooding
- Keep human-in-the-loop option for image review
- All content should have genuine value, not just AI slop
- RSS feed enables syndication without social platform dependency

---

*Last Updated: 2026-02-05*
